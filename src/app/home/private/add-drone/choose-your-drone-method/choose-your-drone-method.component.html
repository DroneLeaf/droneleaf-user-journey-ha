<div class="flex flex-col md:flex-row h-[95vh] text-black">
  <!-- Main Content -->
  <div class="flex flex-col flex-1 px-6 md:px-16 pt-8 pb-4">
    <!-- Top Header -->
    <div class="flex justify-between items-center py-4">
      <img src="../../../../../assets/svgs/private/Group 1597881310.svg" alt="DroneLeaf Logo" class="h-14" />
      <app-help-button></app-help-button>
    </div>

    <!-- Main Content Area (Cards) -->
    <div class="flex-1 flex items-center justify-center">
      <div class="max-w-3xl w-full text-center">
        <!-- Title -->
        <h2 class="text-2xl font-semibold text-gray-800 mb-1">
          Choose Your Setup Method
        </h2>
        <p class="text-sm text-gray-500 mb-6">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
        </p>

        <!-- Cards -->
        <!-- Cards -->
        <div class="flex flex-wrap justify-center gap-4 mb-4">
          <!-- Tier 1 Card -->
          <div (click)="selectMethod('tier1')" [ngClass]="{
      'bg-[#f2f9f7] border-[#009169]': selectedMethod === 'tier1',
      'border-[#D1DADF]': selectedMethod !== 'tier1'
    }" class="w-72 border rounded-lg p-6 flex flex-col items-center text-center cursor-pointer hover:shadow transition">
            <img [src]="selectedMethod === 'tier1'
        ? '../../../../../assets/svgs/tier-1.svg'
        : '../../../../../assets/svgs/tier-1-unactive.svg'" alt="Tier 1" class="w-10 h-10 mb-4" />
            <h3 class="font-semibold mb-1">Tier 1 (Tinker)</h3>
            <p class="text-sm text-gray-600">
              Use your own hardware. Follow our guide to flash and connect your companion computer (CC) and Pixhawk.
            </p>
          </div>

          <!-- Tier 2 Card -->
          <div (click)="selectMethod('tier2')" [ngClass]="{
      'bg-[#f2f9f7] border-[#009169]': selectedMethod === 'tier2',
      'border-[#D1DADF]': selectedMethod !== 'tier2'
    }" class="w-72 border rounded-lg p-6 flex flex-col items-center text-center cursor-pointer hover:shadow transition">
            <div class="w-10 h-10 bg-gray-200 rounded-md mb-4"></div>
            <h3 class="font-semibold mb-1">Tier 2 (Learner)</h3>
            <p class="text-sm text-gray-600">
              Receive a ready-to-use CC + Pixhawk package.
            </p>
          </div>

          <!-- Already Have It Card -->
          <div (click)="selectMethod('already')" [ngClass]="{
      'bg-[#f2f9f7] border-[#009169]': selectedMethod === 'already',
      'border-[#D1DADF]': selectedMethod !== 'already'
    }" class="sm:w-[77%] w-full border rounded-lg p-6 flex flex-col items-start text-center cursor-pointer hover:shadow transition">
            <h3 class="font-semibold mb-1 text-gray-800">Already Have It?</h3>
            <p class="text-sm text-gray-600">I Already Have the Prepared Pixhawk+CC</p>
          </div>
        </div>

        <div *ngIf="selected === 'tier1'"
          class="w-full max-w-[590px] border border-[#FFC700] bg-[#FFF6D6] rounded-md p-4 flex items-start gap-4 mx-auto">
          <span class="text-2xl leading-none">⚠️</span>
          <div class="flex flex-col items-start">
            <p class="text-[#292B2D] font-semibold mb-1">
              Hardware Compatibility Check Required.
            </p>
            <p class="text-sm text-gray-700 text-justify">
              Not all Companion Computers (CCs) are supported. We will run a quick validation step—if your hardware
              isn’t compatible, we’ll guide you to Tier 2 to continue with a pre-configured package.
            </p>
          </div>
        </div>
      </div>
    </div>
<hr class="mb-5">

    <!-- Footer Buttons -->
    <div class=" flex flex-col md:flex-row justify-between items-center gap-4">
      <!-- Cancel -->
      <button type="button"
        class="bg-red-600 text-white font-semibold py-2 px-6 rounded-md hover:bg-red-700 w-full md:w-auto"
        (click)="showCancelModal()">
        Cancel
      </button>

      <!-- Back + Continue -->
      <div class="flex gap-4 w-full md:w-auto">
        <button
          class="border border-[#009169] text-gray-700 font-semibold py-2 px-6 rounded-md hover:bg-gray-100 w-full md:w-auto"
          style="border:1px solid #009169 ;  " (click)="back.emit()">
          Back
        </button>

        <button type="submit"
          class="bg-[#009169] text-white font-semibold py-2 px-6 rounded-md hover:bg-[#007b5e] w-full md:w-auto"
          (click)="next.emit(selected)" [disabled]="!selected">
          Continue
        </button>

      </div>
    </div>
  </div>

  <!-- Sidebar -->
  <div class="w-full md:w-96 bg-[#cce9e1] p-6 flex flex-col justify-between">
    <app-add-drone-stepper [steps]="steps" [currentStepIndex]="currentStepIndex"></app-add-drone-stepper>

    <div class="mt-8">
      <h4 class="text-[22px] font-semibold text-gray-800 mb-1">Add A Drone</h4>
      <p class="text-[16px] text-gray-600">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua.
      </p>
    </div>
  </div>
</div>

<!-- Cancel Modal -->
<app-confirm-cancel-model [show]="cancelModalVisible" (confirm)="onCancelConfirmed()"
  (cancel)="cancelModalVisible = false"></app-confirm-cancel-model>
