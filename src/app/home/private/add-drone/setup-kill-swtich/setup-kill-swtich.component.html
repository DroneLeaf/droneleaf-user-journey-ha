<div class="flex flex-col md:flex-row h-[96vh] text-black">
  <!-- Main Left -->
  <div class="flex-1 px-6 md:px-6 pt-8 pb-4 flex flex-col justify-between">
    <!-- Top Header -->
    <div class="flex justify-between items-center py-4">
      <img src="../../../../../assets/svgs/private/Group 1597881310.svg" alt="DroneLeaf Logo" class="h-14" />
      <app-help-button></app-help-button>
    </div>

    <!-- Main Content Area -->

    <div class="space-y-6">
      <!-- Heading -->
      <h2 class="text-xl font-semibold">Set Up Your RC Kill-Switch</h2>
      <p class="text-gray-600">This feature lets you instantly cut motor power in emergencies.</p>

      <!-- Safety Notice -->
      <div class="p-4 bg-[#fff6d6] border border-[#FFC700] rounded">
        <p class="font-semibold text-yellow-800">⚠️ Important Safety Notice</p>
        <p class="text-sm text-yellow-700 ml-6">
          Always use a <strong>latching (two-position)</strong> switch, not a momentary one.
          Disengaging the kill-switch will immediately reactivate the motors.
        </p>
      </div>

      <!-- Step 1 -->
      <div class="p-4 border rounded">
        <div class="flex items-center justify-between">
          <p class="font-medium">Step 1: Flip Kill-Switch ON</p>

          <div>
            <!-- Button sirf tab tak jab tak step 1 done na ho -->
            <button *ngIf="!stepOneDone" (click)="markStepOneDone()" class="px-4 py-2 bg-[#009169] text-white rounded">
              Done
            </button>

            <!-- Tick -->
            <span *ngIf="stepOneDone" class="text-green-600 font-bold text-lg">
              <svg width="22" height="22" viewBox="0 0 22 22" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11 0C4.939 0 0 4.939 0 11C0 17.061 4.939 22 11 22C17.061 22 22 17.061 22 11C22 4.939 17.061 0 11 0ZM16.258 8.47L10.021 14.707C9.867 14.861 9.658 14.949 9.438 14.949C9.218 14.949 9.009 14.861 8.855 14.707L5.742 11.594C5.423 11.275 5.423 10.747 5.742 10.428C6.061 10.109 6.589 10.109 6.908 10.428L9.438 12.958L15.092 7.304C15.411 6.985 15.939 6.985 16.258 7.304C16.577 7.623 16.577 8.14 16.258 8.47Z"
              fill="#1BAF5D" />
          </svg>
            </span>
          </div>
        </div>

        <!-- Step Description (sirf jab active ho aur done na ho) -->
        <p *ngIf="!stepOneDone" class="text-sm text-gray-500 mt-2">
          Flip your kill-switch (Channel 7) to the ON position, then press Done.
        </p>
      </div>

      <!-- Step 2 -->
      <div class="p-4 border rounded mt-3">
        <div class="flex items-center justify-between">
          <p class="font-medium">Step 2: Flip Kill-Switch OFF</p>

          <div>
            <!-- Button sirf tab jab step 1 complete ho aur step 2 pending ho -->
            <button *ngIf="stepOneDone && !stepTwoDone" (click)="markStepTwoDone()"
              class="px-4 py-2 bg-[#009169] text-white rounded">
              Done
            </button>

            <!-- Tick -->
            <span *ngIf="stepTwoDone" class="text-green-600 font-bold text-lg">
              <svg width="22" height="22" viewBox="0 0 22 22" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11 0C4.939 0 0 4.939 0 11C0 17.061 4.939 22 11 22C17.061 22 22 17.061 22 11C22 4.939 17.061 0 11 0ZM16.258 8.47L10.021 14.707C9.867 14.861 9.658 14.949 9.438 14.949C9.218 14.949 9.009 14.861 8.855 14.707L5.742 11.594C5.423 11.275 5.423 10.747 5.742 10.428C6.061 10.109 6.589 10.109 6.908 10.428L9.438 12.958L15.092 7.304C15.411 6.985 15.939 6.985 16.258 7.304C16.577 7.623 16.577 8.14 16.258 8.47Z"
              fill="#1BAF5D" />
          </svg>
            </span>
          </div>
        </div>

        <!-- Step Description -->
        <p *ngIf="stepOneDone && !stepTwoDone" class="text-sm text-gray-500 mt-2">
          Now flip your kill-switch back to the OFF position. This should reset the motors.
        </p>
      </div>

      <!-- Success Message -->
      <div *ngIf="isCompleted()" class="p-4 bg-[#effff6] border border-[#1BAF5D] rounded">
        <p class="font-semibold flex gap-2 text-green-800"><svg width="22" height="22" viewBox="0 0 22 22" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11 0C4.939 0 0 4.939 0 11C0 17.061 4.939 22 11 22C17.061 22 22 17.061 22 11C22 4.939 17.061 0 11 0ZM16.258 8.47L10.021 14.707C9.867 14.861 9.658 14.949 9.438 14.949C9.218 14.949 9.009 14.861 8.855 14.707L5.742 11.594C5.423 11.275 5.423 10.747 5.742 10.428C6.061 10.109 6.589 10.109 6.908 10.428L9.438 12.958L15.092 7.304C15.411 6.985 15.939 6.985 16.258 7.304C16.577 7.623 16.577 8.14 16.258 8.47Z"
              fill="#1BAF5D" />
          </svg>
          Kill-Switch Configured Successfully!</p>
        <p class="text-sm text-green-700 ml-7">
          You can now instantly cut motor power in case of an emergency.
        </p>
      </div>


    </div>

    <hr />

    <!-- Bottom Buttons -->
    <div class="pt-6 flex flex-col md:flex-row justify-between items-center gap-4">
      <button type="button"
        class="bg-red-600 text-white font-semibold py-2 px-6 rounded-md hover:bg-red-700 w-full md:w-auto"
        (click)="onCancelClick()">
        Cancel
      </button>

      <div class="flex gap-4 w-full md:w-auto">
        <button
          class="border border-[#009169] text-gray-700 font-semibold py-2 px-6 rounded-md hover:bg-gray-100 w-full md:w-auto"
          style="border: 1px solid #009169;" (click)="back.emit()">
          Back
        </button>
        <button class="bg-[#009169] text-white font-semibold py-2 px-6 rounded-md hover:bg-[#007e57] w-full md:w-auto"
          (click)="next.emit()">
          Continue
        </button>
      </div>
    </div>
  </div>

  <!-- Right Sidebar Stepper -->
  <div class="w-full md:w-96 bg-[#cce9e1] p-6 flex flex-col justify-between">
    <app-add-drone-stepper [steps]="steps" [currentStepIndex]="currentStepIndex"></app-add-drone-stepper>

    <div class="mt-8">
      <h4 class="text-[22px] font-semibold text-gray-800 mb-1">
        Add A Drone
      </h4>
      <p class="text-[16px] text-gray-600">
        This step ensures your Remote Control is properly configured before
        finalizing the setup.
      </p>
    </div>
  </div>
</div>
